"use client";

import Link from "next/link";
import { useState } from "react";
import { EmailModal } from "./email-modal";

export function Footer() {
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [platform, setPlatform] = useState<"app-store" | "google-play">("app-store");

  const handleStoreClick = (e: React.MouseEvent, storePlatform: "app-store" | "google-play") => {
    e.preventDefault();
    setPlatform(storePlatform);
    setIsModalOpen(true);
  };

  return (
    <>
      <EmailModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} platform={platform} />
    <footer className="fixed bottom-0 left-0 right-0 py-6 md:py-8 z-40">
      <div className="container">
        <div className="flex flex-col md:flex-row items-center justify-between gap-6">
          {/* Left side - Copyright */}
          <div className="font-mono text-sm text-foreground/60">
            Â© 2025 NAM Rewards. All rights reserved.
          </div>

          {/* Right side - Social buttons and App Store badges */}
          <div className="flex items-center gap-3 md:gap-4">
            {/* Social Buttons */}
            <Link
              href="https://t.me/NAM_Rewards"
              target="_blank"
              rel="noopener noreferrer"
              className="p-2.5 md:p-3 rounded-full bg-foreground/5 hover:bg-foreground/10 transition-all border border-foreground/10"
              aria-label="Join Telegram"
            >
              <svg className="w-5 h-5 md:w-6 md:h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.461-1.901-.903-1.056-.693-1.653-1.124-2.678-1.8-1.185-.781-.417-1.21.258-1.911.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.139-5.062 3.345-.479.329-.913.489-1.302.481-.428-.009-1.252-.241-1.865-.44-.752-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635.099-.002.321.023.465.14.121.099.155.232.171.326.016.094.036.308.02.475z"/>
              </svg>
            </Link>

            <Link
              href="https://twitter.com/NAM_Rewards"
              target="_blank"
              rel="noopener noreferrer"
              className="p-2.5 md:p-3 rounded-full bg-foreground/5 hover:bg-foreground/10 transition-all border border-foreground/10"
              aria-label="Follow on X"
            >
              <svg className="w-5 h-5 md:w-6 md:h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
              </svg>
            </Link>

            {/* App Store badges */}
            <Link
              href="#"
              onClick={(e) => handleStoreClick(e, "app-store")}
              className="transition-opacity hover:opacity-80 hidden md:block"
              aria-label="Download on the App Store"
            >
              <svg className="h-10 md:h-12 w-auto" viewBox="0 0 120 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="120" height="40" rx="5" fill="currentColor" fillOpacity="0.1"/>
                <rect x="0.5" y="0.5" width="119" height="39" rx="4.5" stroke="currentColor" strokeOpacity="0.2"/>
                <path d="M24.769 20.301c-.013-1.377.609-2.63 1.753-3.533-.672-.952-1.719-1.545-2.87-1.621-1.226-.125-2.386.71-3.003.71-.617 0-1.573-.69-2.587-.673-1.331.018-2.559.762-3.245 1.938-1.383 2.375-.354 5.892 1.002 7.82.662.948 1.452 2.01 2.491 1.972.989-.04 1.364-.628 2.562-.628 1.198 0 1.543.628 2.587.608 1.068-.017 1.776-.967 2.438-1.915.766-1.093 1.081-2.156 1.099-2.21-.024-.01-2.108-.794-2.127-3.148M22.043 13.847c.548-.664.918-1.584.817-2.505-.789.032-1.743.53-2.31 1.194-.508.594-.952 1.543-.834 2.456.881.069 1.776-.441 2.327-1.145" fill="currentColor"/>
                <text x="36" y="15" className="text-[6px]" fill="currentColor" fillOpacity="0.8">Download on the</text>
                <text x="36" y="27" className="font-semibold text-[11px]" fill="currentColor">App Store</text>
              </svg>
            </Link>

            <Link
              href="#"
              onClick={(e) => handleStoreClick(e, "google-play")}
              className="transition-opacity hover:opacity-80 hidden md:block"
              aria-label="Get it on Google Play"
            >
              <svg className="h-16 w-auto" viewBox="0 0 155 60" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>{`
                    .gp-border { fill: currentColor; fill-opacity: 0.2; }
                    .gp-text { fill: currentColor; stroke: currentColor; stroke-miterlimit: 10; stroke-width: .2px; }
                    .gp-blue { fill: #4285f4; }
                    .gp-green { fill: #34a853; }
                    .gp-yellow { fill: #fbbc04; }
                    .gp-red { fill: #ea4335; }
                  `}</style>
                </defs>
                <rect width="155" height="60" fillOpacity="0"/>
                <rect x="10" y="10" width="135" height="40" rx="5" ry="5" fill="currentColor" fillOpacity="0.05"/>
                <path className="gp-border" d="M140,10.8c2.316,0,4.2,1.884,4.2,4.2v30c0,2.316-1.884,4.2-4.2,4.2H15c-2.316,0-4.2-1.884-4.2-4.2V15c0-2.316,1.884-4.2,4.2-4.2h125M140,10H15c-2.75,0-5,2.25-5,5v30c0,2.75,2.25,5,5,5h125c2.75,0,5-2.25,5-5V15c0-2.75-2.25-5-5-5h0Z"/>
                <g>
                  <path className="gp-text" d="M57.418,20.243c0,.838-.248,1.505-.745,2.003-.564.592-1.3.888-2.204.888-.866,0-1.602-.3-2.208-.9-.606-.601-.909-1.345-.909-2.233s.303-1.633.909-2.233c.605-.601,1.342-.901,2.208-.901.43,0,.841.084,1.232.251.391.168.704.391.938.67l-.527.528c-.397-.475-.944-.712-1.643-.712-.632,0-1.178.222-1.639.666-.461.444-.691,1.021-.691,1.73s.23,1.286.691,1.73c.461.444,1.007.666,1.639.666.67,0,1.229-.223,1.676-.67.29-.291.458-.696.503-1.215h-2.179v-.721h2.907c.028.157.042.307.042.453Z"/>
                  <path className="gp-text" d="M62.028,17.737h-2.732v1.902h2.464v.721h-2.464v1.902h2.732v.737h-3.503v-6h3.503v.737Z"/>
                  <path className="gp-text" d="M65.279,23h-.771v-5.263h-1.676v-.737h4.123v.737h-1.676v5.263Z"/>
                  <path className="gp-text" d="M69.938,23v-6h.77v6h-.77Z"/>
                  <path className="gp-text" d="M74.128,23h-.771v-5.263h-1.676v-.737h4.123v.737h-1.676v5.263Z"/>
                  <path className="gp-text" d="M83.609,22.225c-.59.607-1.323.909-2.2.909s-1.61-.303-2.199-.909c-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.607,1.322-.91,2.199-.91.872,0,1.603.305,2.196.914.592.609.888,1.349.888,2.221,0,.877-.295,1.619-.884,2.225ZM79.779,21.722c.444.45.987.674,1.63.674s1.186-.225,1.63-.674c.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722c-.443-.45-.987-.674-1.63-.674s-1.186.225-1.63.674c-.443.45-.666,1.024-.666,1.722s.223,1.273.666,1.722Z"/>
                  <path className="gp-text" d="M85.575,23v-6h.939l2.916,4.667h.033l-.033-1.156v-3.511h.771v6h-.805l-3.051-4.894h-.033l.033,1.156v3.737h-.771Z"/>
                </g>
                <path className="gp-text" d="M78.136,31.752c-2.352,0-4.269,1.788-4.269,4.253,0,2.449,1.917,4.253,4.269,4.253s4.269-1.804,4.269-4.253c0-2.465-1.917-4.253-4.269-4.253ZM78.136,38.582c-1.289,0-2.4-1.063-2.4-2.578,0-1.531,1.112-2.578,2.4-2.578s2.4,1.047,2.4,2.578c0,1.514-1.112,2.578-2.4,2.578ZM68.823,31.752c-2.352,0-4.269,1.788-4.269,4.253,0,2.449,1.917,4.253,4.269,4.253s4.269-1.804,4.269-4.253c0-2.465-1.917-4.253-4.269-4.253ZM68.823,38.582c-1.289,0-2.401-1.063-2.401-2.578,0-1.531,1.112-2.578,2.401-2.578s2.4,1.047,2.4,2.578c0,1.514-1.112,2.578-2.4,2.578ZM57.744,33.057v1.804h4.318c-.129,1.015-.467,1.756-.983,2.272-.628.628-1.611,1.321-3.335,1.321-2.658,0-4.736-2.143-4.736-4.801s2.078-4.801,4.736-4.801c1.434,0,2.481.564,3.254,1.289l1.273-1.273c-1.079-1.031-2.513-1.82-4.527-1.82-3.641,0-6.702,2.964-6.702,6.605s3.061,6.605,6.702,6.605c1.966,0,3.448-.644,4.608-1.853,1.192-1.192,1.563-2.868,1.563-4.221,0-.419-.032-.805-.097-1.128h-6.074ZM103.052,34.458c-.354-.95-1.434-2.707-3.641-2.707-2.191,0-4.011,1.724-4.011,4.253,0,2.384,1.804,4.253,4.221,4.253,1.949,0,3.077-1.192,3.544-1.885l-1.45-.967c-.483.709-1.144,1.176-2.094,1.176s-1.627-.435-2.062-1.289l5.687-2.352-.193-.483ZM97.252,35.876c-.048-1.643,1.273-2.481,2.223-2.481.741,0,1.369.37,1.579.902l-3.802,1.579ZM92.629,40h1.869v-12.502h-1.869v12.502ZM89.567,32.702h-.064c-.419-.499-1.224-.951-2.239-.951-2.127,0-4.076,1.869-4.076,4.269,0,2.384,1.949,4.237,4.076,4.237,1.015,0,1.82-.451,2.239-.967h.064v.612c0,1.627-.87,2.497-2.272,2.497-1.144,0-1.853-.822-2.143-1.514l-1.627.677c.467,1.128,1.708,2.513,3.77,2.513,2.191,0,4.044-1.289,4.044-4.43v-7.636h-1.772v.693ZM87.425,38.582c-1.289,0-2.368-1.079-2.368-2.562,0-1.498,1.079-2.594,2.368-2.594,1.273,0,2.272,1.096,2.272,2.594,0,1.482-.999,2.562-2.272,2.562ZM111.806,27.499h-4.471v12.501h1.866v-4.736h2.605c2.068,0,4.101-1.497,4.101-3.883s-2.033-3.882-4.101-3.882ZM111.854,33.524h-2.654v-4.285h2.654c1.395,0,2.187,1.155,2.187,2.143,0,.969-.792,2.143-2.187,2.143ZM123.386,31.729c-1.351,0-2.75.595-3.329,1.914l1.657.692c.354-.692,1.013-.917,1.705-.917.965,0,1.946.579,1.962,1.608v.129c-.338-.193-1.061-.483-1.946-.483-1.785,0-3.603.981-3.603,2.815,0,1.673,1.463,2.75,3.104,2.75,1.254,0,1.946-.563,2.38-1.222h.064v.965h1.801v-4.793c0-2.22-1.657-3.458-3.796-3.458ZM123.161,38.58c-.611,0-1.464-.305-1.464-1.061,0-.965,1.061-1.335,1.978-1.335.82,0,1.206.177,1.705.418-.145,1.158-1.142,1.978-2.219,1.978ZM133.743,32.002l-2.139,5.42h-.064l-2.219-5.42h-2.01l3.329,7.575-1.898,4.214h1.946l5.131-11.789h-2.075ZM116.936,40h1.866v-12.501h-1.866v12.501Z"/>
                <g>
                  <path className="gp-red" d="M30.717,29.424l-10.647,11.3s.001.005.002.007c.327,1.227,1.447,2.13,2.777,2.13.531,0,1.031-.144,1.459-.396l.034-.02,11.984-6.915-5.609-6.106Z"/>
                  <path className="gp-yellow" d="M41.488,27.5l-.01-.007-5.174-3-5.829,5.187,5.849,5.848,5.146-2.969c.902-.487,1.515-1.438,1.515-2.535,0-1.09-.604-2.036-1.498-2.525Z"/>
                  <path className="gp-blue" d="M20.07,19.277c-.064.236-.098.484-.098.74v19.968c0,.256.033.504.098.739l11.013-11.011-11.013-10.436Z"/>
                  <path className="gp-green" d="M30.796,30.001l5.51-5.509-11.97-6.94c-.435-.261-.943-.411-1.486-.411-1.33,0-2.452.905-2.779,2.134,0,0,0,.002,0,.003l10.726,10.724Z"/>
                </g>
              </svg>
            </Link>
          </div>
        </div>
      </div>
    </footer>
    </>
  );
}
